<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diamond Diagram (Complete Graph)</title>
    <style>
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
        }
        .controls {
            margin-bottom: 20px;
        }
        canvas {
            border: 1px solid #ccc;
        }
    </style>
</head>
<body>

    <div class="controls">
        <label for="n">Vertices (n): </label>
        <input type="number" id="n" value="6" min="2">

        <label for="r">Radius (r): </label>
        <input type="number" id="r" value="150" min="10">

        <label for="randomColor">
            <input type="checkbox" id="randomColor"> Randomize Colors
        </label>
    </div>

    <canvas id="diamondCanvas" width="600" height="600"></canvas>

    <script>
        const canvas = document.getElementById('diamondCanvas');
        const ctx = canvas.getContext('2d');
        const nInput = document.getElementById('n');
        const rInput = document.getElementById('r');
        const randomColorCheckbox = document.getElementById('randomColor');

        let lineColors = [];

        function getRandomColor() {
            const r = Math.floor(Math.random() * 256);
            const g = Math.floor(Math.random() * 256);
            const b = Math.floor(Math.random() * 256);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function generateLineColors() {
            const n = parseInt(nInput.value);
            lineColors = [];
            // We need a color for every pair (i, j) where i < j
            // Total pairs = n * (n - 1) / 2
            // We'll store them in a flat array for simplicity, matching the draw loop order.
            for (let i = 0; i < n; i++) {
                for (let j = i + 1; j < n; j++) {
                    lineColors.push(getRandomColor());
                }
            }
        }

        function draw() {
            const n = parseInt(nInput.value);
            const r = parseInt(rInput.value);
            const isRandom = randomColorCheckbox.checked;
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Calculate vertices
            const vertices = [];
            for (let i = 0; i < n; i++) {
                // Angle for this vertex
                // We start at -PI/2 to put the first vertex at the top
                const angle = (i * 2 * Math.PI / n) - (Math.PI / 2);
                const x = centerX + r * Math.cos(angle);
                const y = centerY + r * Math.sin(angle);
                vertices.push({x, y});
            }

            // Draw lines connecting every pair of vertices
            let colorIndex = 0;
            for (let i = 0; i < n; i++) {
                for (let j = i + 1; j < n; j++) {
                    ctx.beginPath();
                    ctx.moveTo(vertices[i].x, vertices[i].y);
                    ctx.lineTo(vertices[j].x, vertices[j].y);
                    if (isRandom && lineColors[colorIndex]) {
                        ctx.strokeStyle = lineColors[colorIndex];
                    } else {
                        ctx.strokeStyle = 'black';
                    }
                    ctx.stroke();
                    colorIndex++;
                }
            }

            // Draw vertices (optional, but looks nice)
            /*
            ctx.fillStyle = 'black';
            vertices.forEach(v => {
                ctx.beginPath();
                ctx.arc(v.x, v.y, 3, 0, 2 * Math.PI);
                ctx.fill();
            });
            */
        }

        // Initial setup
        generateLineColors();
        draw();

        // Event listeners
        nInput.addEventListener('input', () => {
            generateLineColors();
            draw();
        });
        rInput.addEventListener('input', draw);
        randomColorCheckbox.addEventListener('change', draw);
    </script>

</body>
</html>
